{"mappings":"YAAA,IC2CkBA,EAAUC,EACpBC,EDpCRC,EARqB,SAAAC,G,IAAGC,EAAKD,EAALC,MAAOC,EAAGF,EAAHE,IAC3B,MAAO,wEAEqEC,OAArDD,EAAI,mDAAuDC,OAANF,EAAM,wC,ECChFG,EAAM,CACRC,WAAYC,SAASC,cAAc,mBACnCC,YAAaF,SAASC,cAAc,kBACpCE,SAAUH,SAASC,cAAc,kBAQ/BG,EAAa,WACfN,EAAII,YAAYG,UAAUC,IAAI,O,EA0ClCR,EAAIC,WAAWQ,iBAAiB,SAfdjB,EAfI,SAAAkB,GAClB,IAAMC,EAAQD,EAAEE,OAAOC,MAElBF,GAnBLX,EAAII,YAAYG,UAAUC,IAAI,QAC9BR,EAAII,YAAYG,UAAUO,OAAO,QAwBjCC,MAAM,GAA+BhB,OAnC7B,uCAmCK,0BAA8BA,OAANY,IAChCK,MAAK,SAACC,G,OAAQA,EAAIC,M,IAClBF,MAAK,SAAApB,G,OApBC,SAACuB,GACZC,QAAQC,IAAIF,GACZ,IAAMG,EAAOH,EAAKI,KAAI,SAAA3B,G,IAAGC,EAAKD,EAALC,MAAOC,EAAGF,EAAHE,I,OAAUH,EAAa,CAAEE,QAAOC,O,IAAQ0B,KAAK,IAE7ExB,EAAIK,SAASoB,UAAY,GACzBzB,EAAIK,SAASqB,mBAAmB,aAAcJ,E,CAetBK,CAAP/B,EAAJuB,K,IACRS,QAAQtB,IARTN,EAAIK,SAASoB,UAAY,E,EAWLhC,EAeqC,IAdzDC,EAAU,EAEP,SAAUgB,GACThB,GACAmC,aAAanC,GAGjBA,EAAUoC,YAAW,WACjBtC,EAASkB,GACThB,EAAU,C,GACXD,E","sources":["src/js/template/newsTemplate.js","src/js/news.js"],"sourcesContent":["const newsTemplate = ({ title, url }) => {\n    return `\n            <li class=\"news-list__item\">\n                <a href=\"${url}\" class=\"news-list__link link\" target=\"_blank\">${title}</a>\n            </li>\n            `;\n}\n\nexport default newsTemplate;","import newsTemplate from './template/newsTemplate.js';\n\nconst URL = 'https://hn.algolia.com/api/v1/search';\n\nconst ref = {\n    inputQuery: document.querySelector('.js-query-input'),\n    loaderQuery: document.querySelector('.js-query-load'),\n    newsList: document.querySelector('.js-news-list'),\n};\n\n\nconst showLoader = () => {\n    ref.loaderQuery.classList.add('show');\n    ref.loaderQuery.classList.remove('hide');\n};\nconst hideLoader = () => {\n    ref.loaderQuery.classList.add('hide');\n};\n\nconst render = (hits) => {\n    console.log(hits)\n    const list = hits.map(({ title, url }) => newsTemplate({ title, url })).join('');\n\n    ref.newsList.innerHTML = '';\n    ref.newsList.insertAdjacentHTML('afterbegin', list);\n};\n\n\nconst onQueryChange = e => {\n    const query = e.target.value;\n\n    if (!query) {\n        ref.newsList.innerHTML = '';\n        return\n    }\n\n    showLoader();\n    fetch(`${URL}?hitsPerPage=10&query=${query}`)\n        .then((res) => res.json())\n        .then(({ hits }) => render(hits))\n        .finally(hideLoader)\n};\n\nfunction debounce(callback, delay) {\n    let timerId = 0;\n\n    return function (e) {\n        if (timerId) {\n            clearTimeout(timerId);\n        }\n\n        timerId = setTimeout(() => {\n            callback(e);\n            timerId = 0;\n        }, delay);\n    }\n}\n\nref.inputQuery.addEventListener('input', debounce(onQueryChange, 1000));\n\n\n\n\n\n//=====================throttle\n// function throttle(callback, delay) {\n\n//     let timerId = 0;\n//     return function (e) {\n//         if (timerId) return;\n\n//         timerId = setTimeout(() => {\n//             callback(e)\n//             timerId = 0;\n//         }, delay);\n//     }\n// };"],"names":["callback","delay","timerId","$79ff8b5af4bd5d34$export$2e2bcd8739ae039","param","title","url","concat","$963508ebb68a0a78$var$ref","inputQuery","document","querySelector","loaderQuery","newsList","$963508ebb68a0a78$var$hideLoader","classList","add","addEventListener","e","query","target","value","remove","fetch","then","res","json","hits","console","log","list","map","join","innerHTML","insertAdjacentHTML","$963508ebb68a0a78$var$render","finally","clearTimeout","setTimeout"],"version":3,"file":"news.ee9f8d8e.js.map"}