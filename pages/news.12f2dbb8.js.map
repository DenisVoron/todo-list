{"mappings":"IAQAA,EARqB,EAACC,MAAEA,EAAKC,IAAEA,KACpB,wEAEgBA,mDAAqDD,yCCDhF,MAEME,EAAM,CACRC,WAAYC,SAASC,cAAc,mBACnCC,YAAaF,SAASC,cAAc,kBACpCE,SAAUH,SAASC,cAAc,kBAQ/BG,EAAa,KACfN,EAAII,YAAYG,UAAUC,IAAI,OAAO,EAyCzCR,EAAIC,WAAWQ,iBAAiB,QAbhC,SAAkBC,EAAUC,GAExB,IAAIC,EAAU,EACd,OAAO,SAAUC,GACTD,IAEJA,EAAUE,YAAW,KACjBJ,EAASG,GACTD,EAAU,CAAC,GACZD,G,EAI8BI,EA7BnBF,IAClB,MAAMG,EAAQH,EAAEI,OAAOC,MAElBF,GAnBLhB,EAAII,YAAYG,UAAUC,IAAI,QAC9BR,EAAII,YAAYG,UAAUY,OAAO,QAwBjCC,MAAM,6DAA+BJ,KAChCK,MAAMC,GAAQA,EAAIC,SAClBF,MAAK,EAACG,KAAEA,KApBF,CAACA,IACZC,QAAQC,IAAIF,GACZ,MAAMG,EAAOH,EAAKI,KAAI,EAAC9B,MAAEA,EAAKC,IAAEA,KAAUF,EAAa,C,MAAEC,E,IAAOC,MAAQ8B,KAAK,IAE7E7B,EAAIK,SAASyB,UAAY,GACzB9B,EAAIK,SAAS0B,mBAAmB,aAAcJ,EAAK,EAe3BK,CAAOR,KAC1BS,QAAQ3B,IARTN,EAAIK,SAASyB,UAAY,EAQL,GAiBqC","sources":["src/js/template/newsTemplate.js","src/js/news.js"],"sourcesContent":["const newsTemplate = ({ title, url }) => {\n    return `\n            <li class=\"news-list__item\">\n                <a href=\"${url}\" class=\"news-list__link link\" target=\"_blank\">${title}</a>\n            </li>\n            `;\n}\n\nexport default newsTemplate;","import newsTemplate from './template/newsTemplate.js';\n\nconst URL = 'https://hn.algolia.com/api/v1/search';\n\nconst ref = {\n    inputQuery: document.querySelector('.js-query-input'),\n    loaderQuery: document.querySelector('.js-query-load'),\n    newsList: document.querySelector('.js-news-list'),\n};\n\n\nconst showLoader = () => {\n    ref.loaderQuery.classList.add('show');\n    ref.loaderQuery.classList.remove('hide');\n};\nconst hideLoader = () => {\n    ref.loaderQuery.classList.add('hide');\n};\n\nconst render = (hits) => {\n    console.log(hits)\n    const list = hits.map(({ title, url }) => newsTemplate({ title, url })).join('');\n\n    ref.newsList.innerHTML = '';\n    ref.newsList.insertAdjacentHTML('afterbegin', list);\n};\n\n\nconst onQueryChange = e => {\n    const query = e.target.value;\n\n    if (!query) {\n        ref.newsList.innerHTML = '';\n        return\n    }\n\n    showLoader();\n    fetch(`${URL}?hitsPerPage=10&query=${query}`)\n        .then((res) => res.json())\n        .then(({ hits }) => render(hits))\n        .finally(hideLoader)\n};\n\n\nfunction throttle(callback, delay) {\n\n    let timerId = 0;\n    return function (e) {\n        if (timerId) return;\n\n        timerId = setTimeout(() => {\n            callback(e)\n            timerId = 0;\n        }, delay);\n    }\n};\n\nref.inputQuery.addEventListener('input', throttle(onQueryChange, 500));"],"names":["$8c58fbc5c046ef9a$export$2e2bcd8739ae039","title","url","$4ebb81a1f389e6fd$var$ref","inputQuery","document","querySelector","loaderQuery","newsList","$4ebb81a1f389e6fd$var$hideLoader","classList","add","addEventListener","callback","delay","timerId","e","setTimeout","$4ebb81a1f389e6fd$var$throttle","query","target","value","remove","fetch","then","res","json","hits","console","log","list","map","join","innerHTML","insertAdjacentHTML","$4ebb81a1f389e6fd$var$render","finally"],"version":3,"file":"news.12f2dbb8.js.map"}